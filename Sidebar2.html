<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
    <!-- The CSS package above applies Google styling to buttons and other elements. -->

    <style>
    .branding-below {
      bottom: 56px;
      top: 0;
    }

    .branding-text {
      left: 7px;
      position: relative;
      top: 3px;
    }


    .logo {
      vertical-align: middle;
    }

    .radio-spacer {
      height: 20px;
    }

    .width-100 {
      width: 100%;
    }
    </style>
  </head>
  <body>
    <div class="sidebar branding-below">
    
     <div class="block form-group">
          <label for="auth"><b>Authentication! Put your API key here.</b></label>
          <input type="text" class="width-100" id="apikey">(Find your key: <br />
          <a href="url">https://www.picatic.com/manage/users/applications</a>)
        </div>
       <br />
    <div class="block form-group">
          <label for="step1"><b>Step 1: Put the event ID</b></label>
          <input type="text" class="width-100" id="eventid">
          <br />
          <button class="action" id="tickets" onclick="saveEventid()">Find tickets</button>
        </div>
       <br />
    <div class="block form-group">
          <label for="step2"><b>Step 2: Select ticket</b></label>
          <select class="width-100" id="tickets"></select>
          <input type="text" class="width-100" id="ticketid">
        </div>
       <br />
   <div class="block form-group">
          <label for="step3"><b>Step 3: Set max # of usage</b></label>
          <input type="number" id="quantity" value="1" min="1" >
        </div>
       <br />
   <div class="block form-group">
          <label for="step4"><b>Step 4: Set discounted amount $</b></label>
          <input type="number" id="discountprice" value="0" min="0">
        </div>
       <br />
    
         <div class="block col-contain">
          <div class="col-one">
            <b>Step 5: Select code stauts.</b>
            <select id="status">
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
           </div>
          </div>
          <br />
          <div class="block form-group">
          <label for="step6"><b>Step 6: IMPORTANT!<br />
          Select code names on the sheet</b></label>
          </div>
        
        <br />
        
         <div class="block" id="button-bar">
          <button class="action" id="Create" onclick="createPromo()">Create</button>
        </div>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
    </script>
    <script>
    
    function saveEventid() {
       var eventid = $('#eventid').val()
       var apikey = $('#apikey').val()
       if (eventid != ''){
       google.script.run.Gettickets(eventid, apikey)
     }
    }
    
    function createPromo() {
       var ticketid = Number($('#ticketid').val())
       var quantity = Number($('#quantity').val())
       var discountprice = Number($('#discountprice').val())
       var status= $('#status').val()
       var apikey = $('#apikey').val()
       var settings = {
          'ticketid': ticketid,
          'quantity': quantity,
          'discountprice': discountprice,
          'status': status
       };

       google.script.run.CreatePromoCode(quantity, ticketid, discountprice, status, apikey)
    }
    
    </script>
  </body>
</html>